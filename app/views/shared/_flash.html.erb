<!-- app/views/shared/_flash.html.erb -->
<% flash.each do |key, message| %>
  <div 
    id="<%= SecureRandom.uuid %>" 
    class="alert <%= flash_class_for(key) %> mb-4" 
    role="alert" 
    aria-live="<%= key == 'error' || key == 'alert' ? 'assertive' : 'polite' %>"
  >
    <%= message %>
  </div>
<% end %>

<script>
  // Disappear flash message after 5 seconds
  setTimeout(function() {
    document.querySelectorAll('.alert').forEach(function(alert) {
      alert.style.transition = 'opacity 0.5s ease';
      alert.style.opacity = '0';
      setTimeout(() => alert.remove(), 500);  // Ensure it is removed after fading out
    });
  }, 5000); // 5000 ms = 5 seconds
</script>
